<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0065)http://www2.dis.ulpgc.es/~ii-fc/web-practicas/parte1.html#p1intro -->
<HTML xmlns="http://www.w3.org/TR/REC-html40" xmlns:v = 
"urn:schemas-microsoft-com:vml" xmlns:o = 
"urn:schemas-microsoft-com:office:office" xmlns:w = 
"urn:schemas-microsoft-com:office:word"><HEAD><TITLE>Practicas de Estructura de Sistemas (F10) ITIG</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1252">
<META content=Word.Document name=ProgId>
<META content="MSHTML 6.00.6000.16640" name=GENERATOR>
<META content="Microsoft Word 9" name=Originator><LINK 
href="./parte1_archivos/filelist.xml" rel=File-List><LINK 
href="./parte1_archivos/editdata.mso" rel=Edit-Time-Data><!--[if !mso]>
<STYLE>v\:* {
	BEHAVIOR: url(#default#VML)
}
o\:* {
	BEHAVIOR: url(#default#VML)
}
w\:* {
	BEHAVIOR: url(#default#VML)
}
.shape {
	BEHAVIOR: url(#default#VML)
}
</STYLE>
<![endif]--><!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Carmelo Cuenca Hern&aacute;ndez</o:Author>
  <o:Template>Normal</o:Template>
  <o:LastAuthor>Carmelo Cuenca Hern&aacute;ndez</o:LastAuthor>
  <o:Revision>3</o:Revision>
  <o:TotalTime>15</o:TotalTime>
  <o:Created>2002-02-22T09:43:00Z</o:Created>
  <o:LastSaved>2002-02-22T10:03:00Z</o:LastSaved>
  <o:Pages>6</o:Pages>
  <o:Words>1848</o:Words>
  <o:Characters>10538</o:Characters>
  <o:Company>Departamento de Inform&aacute;tica y Sistemas</o:Company>
  <o:Lines>87</o:Lines>
  <o:Paragraphs>21</o:Paragraphs>
  <o:CharactersWithSpaces>12941</o:CharactersWithSpaces>
  <o:Version>9.2812</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:HyphenationZone>21</w:HyphenationZone>
 </w:WordDocument>
</xml><![endif]-->
<STYLE>@font-face {
	font-family: Wingdings;
}
@page Section1 {size: 595.3pt 841.9pt; margin: 70.85pt 3.0cm 70.85pt 3.0cm; mso-header-margin: 35.4pt; mso-footer-margin: 35.4pt; mso-paper-source: 0; }
P.MsoNormal {
	FONT-SIZE: 12pt; MARGIN: 0cm 0cm 0pt; FONT-FAMILY: "Times New Roman"; mso-fareast-font-family: "Times New Roman"; mso-style-parent: ""; mso-pagination: widow-orphan
}
LI.MsoNormal {
	FONT-SIZE: 12pt; MARGIN: 0cm 0cm 0pt; FONT-FAMILY: "Times New Roman"; mso-fareast-font-family: "Times New Roman"; mso-style-parent: ""; mso-pagination: widow-orphan
}
DIV.MsoNormal {
	FONT-SIZE: 12pt; MARGIN: 0cm 0cm 0pt; FONT-FAMILY: "Times New Roman"; mso-fareast-font-family: "Times New Roman"; mso-style-parent: ""; mso-pagination: widow-orphan
}
P {
	FONT-SIZE: 12pt; FONT-FAMILY: "Times New Roman"; mso-fareast-font-family: "Times New Roman"
}
PRE {
	FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; FONT-FAMILY: "Courier New"; mso-fareast-font-family: "Courier New"
}
TT {
	mso-fareast-font-family: "Courier New"; mso-ascii-font-family: "Courier New"; mso-hansi-font-family: "Courier New"; mso-bidi-font-family: "Courier New"
}
DIV.Section1 {
	page: Section1
}
OL {
	MARGIN-BOTTOM: 0cm
}
UL {
	MARGIN-BOTTOM: 0cm
}
</STYLE>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="1027"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]--></HEAD>
<BODY lang=ES style="tab-interval: 35.4pt" vLink=blue link=blue bgColor=white>
<DIV class=Section1>
<P><B><SPAN style="FONT-SIZE: 24pt">Parte I. El simulador SPIM</SPAN></B></P>
<DIV class=MsoNormal style="TEXT-ALIGN: center" align=center>
<HR align=center width="100%" color=gray noShade SIZE=3>
</DIV><SPAN 
style="FONT-SIZE: 12pt; FONT-FAMILY: 'Times New Roman'; mso-fareast-font-family: 'Times New Roman'; mso-ansi-language: ES; mso-fareast-language: ES; mso-bidi-language: AR-SA">
<UL type=disc>
  <LI class=MsoNormal 
  style="mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l5 level1 lfo1; tab-stops: list 36.0pt"><A 
  href="Ayuda.html#p1intro">Introducción</A>. 

  <LI class=MsoNormal 
  style="mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l5 level1 lfo1; tab-stops: list 36.0pt"><A 
  href="Ayuda.html#p1descrip">Descripción 
  del simulador PCSpim</A>. 
  <LI class=MsoNormal 
  style="mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l5 level1 lfo1; tab-stops: list 36.0pt"><A 
  href="http://www2.dis.ulpgc.es/~ii-fc/web-practicas/parte1.html#p1sintaxis">Sintaxis 
  del Lenguaje ensamblador del MIPS R2000</A>. 
  <LI class=MsoNormal 
  style="mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l5 level1 lfo1; tab-stops: list 36.0pt"><A 
  href="http://www2.dis.ulpgc.es/~ii-fc/web-practicas/parte1.html#p1problema">Problema 
  propuesto</A>. </LI></UL></SPAN>
<DIV class=MsoNormal style="TEXT-ALIGN: center" align=center>
<HR align=center width="100%" color=gray noShade SIZE=3>
</DIV>
<P><A name=p1intro><B><SPAN 
style="FONT-SIZE: 13.5pt">Introducción</SPAN></B></A></P>
<P>El SPIM (MIPS al revés) es un simulador que ejecuta programas en lenguaje 
ensamblador para los computadores basados en los procesadores MIPS R2000/R3000. 
La arquitectura de este tipo de procesadores es RISC, por lo tanto simple y 
regular, y en consecuencia fácil de aprender y entender.</P>
<P>La pregunta obvia en estos casos es por qué se va a utilizar un simulador y 
no una máquina real. Las razones son diversas: entre ellas cabe destacar la 
facilidad de poder trabajar con una versión simplificada y estable del 
procesador real. Los procesadores actuales ejecutan varias instrucciones al 
mismo tiempo y en muchos casos de forma desordenada, esto hace que sean más 
difíciles de comprender y programar.</P>
<P>El simulador a utilizar en prácticas es una versión gráfica del SPIM, 
denominadaPCSPIM.</P>
<P>La instalación del PCSpim <SPAN style="mso-spacerun: yes">&nbsp;</SPAN>es 
sencilla:</P>
<P class=MsoNormal><B>Windows</B></P>
<P style="MARGIN-LEFT: 36pt">Ejecutar el programa “spimwin.exe”. Se realizará la 
instalación y sólo habrá que ejecutar el icono “PCSpim for Windows” para 
arrancar el programa.</P>
<DIV class=MsoNormal style="TEXT-ALIGN: center" align=center>
<HR align=center width="100%" SIZE=3>
</DIV>
<P><A name=p1descrip><B><SPAN style="FONT-SIZE: 13.5pt">Descripción del 
Simulador PCSpim<o:p></o:p></SPAN></B></A></P>
<P><SPAN style="mso-bookmark: p1descrip">Al ejecutar PCSpim aparece la siguiente 
ventana</SPAN></P>
<P><SPAN style="mso-bookmark: p1descrip"></SPAN>&nbsp;</P>
<P style="TEXT-ALIGN: center" align=center><SPAN 
style="mso-bookmark: p1descrip"><IMG id=_x0000_i1043 height=399 
src="Practicas%20de%20Estructura%20de%20Sistemas%20(F10)%20ITIG_archivos/Image1.gif" 
width=586 border=0></SPAN></P>
<P><SPAN style="mso-bookmark: p1descrip">La ventana principal de PCSpim se 
divide en cuatro partes:</SPAN></P>
<P 
style="MARGIN-LEFT: 36pt; TEXT-INDENT: -18pt; mso-list: l2 level1 lfo5; tab-stops: list 36.0pt"><SPAN 
style="mso-bookmark: p1descrip"><![if !supportLists]>1.<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><![endif]>La 
parte superior de la ventana es la <B>barra de menús</B>. Permite acceder a las 
operaciones con ficheros (menú <I>Fil</I>e), especificar las opciones del 
simulador (menú <I>Simulato</I>r), seleccionar la forma de visualización de las 
ventanas incluidas en la ventana principal (menú <I>Windo</I>w), y obtener 
información de ayuda (menú <I>Hel</I>p).</SPAN></P>
<OL type=1 start=2>
  <LI class=MsoNormal 
  style="mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l2 level1 lfo5; tab-stops: list 36.0pt"><SPAN 
  style="mso-bookmark: p1descrip">Debajo de la barra de menús se encuentra la 
  <B>barra de herramientas </B>que incluye en forma de botones algunas de las 
  acciones más comunes en PCSpim.</SPAN> 
  <LI class=MsoNormal 
  style="mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l2 level1 lfo5; tab-stops: list 36.0pt"><SPAN 
  style="mso-bookmark: p1descrip">La parte central de la ventana de la 
  aplicación sirve para visualizar cuatro ventanas:<B> Registros 
  </B><I>(Register</I>s), <B>Segmento de Texto </B><I>(Text Segmen</I>t), 
  <B>Segmento de Datos</B><I> (Data Segmen</I>t) y <B>Mensajes 
  </B><I>(Message</I>s).</SPAN> </LI></OL>
<P><SPAN style="mso-bookmark: p1descrip">A continuación se presentan las 
características de estas cuatro ventanas:</SPAN></P>
<UL type=disc>
  <LI class=MsoNormal 
  style="mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l8 level1 lfo7; tab-stops: list 36.0pt"><SPAN 
  style="mso-bookmark: p1descrip"><B>Registros </B><I>(Register</I>s)</SPAN> 
  </LI></UL>
<P style="MARGIN-LEFT: 72pt"><SPAN style="mso-bookmark: p1descrip">Aparecen el 
nombre y el contenido de los registros enteros, R0 a R31, con sus 
correspondientes alias entre paréntesis, los registros de coma flotante, FP0 a 
FP31, los registros de control de la CPU (BadVAddr, Cause, Status, EPC) y los 
registros especiales para la multiplicación y división entera, HI y 
LO.</SPAN></P>
<P style="MARGIN-LEFT: 72pt"><SPAN 
style="mso-bookmark: p1descrip"></SPAN>&nbsp;</P>
<P style="MARGIN-LEFT: 72pt; TEXT-ALIGN: center" align=center><SPAN 
style="mso-bookmark: p1descrip"><IMG id=_x0000_i1044 height=398 
src="Practicas%20de%20Estructura%20de%20Sistemas%20(F10)%20ITIG_archivos/Image3.gif" 
width=585 border=0></SPAN></P>
<P style="MARGIN-LEFT: 72pt; TEXT-ALIGN: center" align=center><SPAN 
style="mso-bookmark: p1descrip"></SPAN>&nbsp;</P>
<UL type=disc>
  <LI class=MsoNormal 
  style="mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l0 level1 lfo9; tab-stops: list 36.0pt"><SPAN 
  style="mso-bookmark: p1descrip"><B>Segmento de Texto </B><I>(Text 
  Segmen</I>t)</SPAN> </LI></UL>
<P style="MARGIN-LEFT: 72pt"><SPAN style="mso-bookmark: p1descrip">Se pueden ver 
cada una de las direcciones, el código máquina, las instrucciones ensambladas y 
el código fuente del programa de usuario (a partir de la dirección </SPAN><SPAN 
style="mso-bookmark: p1descrip"><TT><B><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 'Courier New'">0x00400000</SPAN></B></TT>) 
y del núcleo del simulador (a partir de la dirección </SPAN><SPAN 
style="mso-bookmark: p1descrip"><TT><B><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 'Courier New'">0x80000000</SPAN></B></TT>). 
Antes de que se cargue ningún programa aparecen una serie de instrucciones, 
introducidas por el simulador para lanzar adecuadamente la ejecución de nuestro 
código.</SPAN></P>
<P style="MARGIN-LEFT: 72pt"><SPAN 
style="mso-bookmark: p1descrip"></SPAN>&nbsp;</P>
<P style="MARGIN-LEFT: 72pt; TEXT-ALIGN: center" align=center><SPAN 
style="mso-bookmark: p1descrip"><IMG id=_x0000_i1045 height=380 
src="Practicas%20de%20Estructura%20de%20Sistemas%20(F10)%20ITIG_archivos/Image4.gif" 
width=587 border=0></SPAN></P>
<UL type=disc>
  <LI class=MsoNormal 
  style="mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l6 level1 lfo11; tab-stops: list 36.0pt"><SPAN 
  style="mso-bookmark: p1descrip"><B>Segmento de Datos</B><I> (Data 
  Segmen</I>t)</SPAN> </LI></UL>
<P style="MARGIN-LEFT: 72pt"><SPAN style="mso-bookmark: p1descrip">Aparecen las 
direcciones y datos almacenados en las zonas de memoria de datos del usuario (a 
partir de la dirección </SPAN><SPAN style="mso-bookmark: p1descrip"><TT><B><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 'Courier New'">0x10000000</SPAN></B></TT> 
en adelante), el núcleo del simulador (a partir de la dirección </SPAN><SPAN 
style="mso-bookmark: p1descrip"><TT><B><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 'Courier New'">0x90000000</SPAN></B></TT>) 
y la pila (el puntero de pila, registro sp, se encuentra cargado con la 
dirección </SPAN><SPAN style="mso-bookmark: p1descrip"><TT><B><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 'Courier New'">0x7fffeffc</SPAN></B></TT>, 
y ésta crece hacia direcciones decrecientes).</SPAN></P>
<P style="MARGIN-LEFT: 72pt; TEXT-ALIGN: center" align=center><SPAN 
style="mso-bookmark: p1descrip"><IMG id=_x0000_i1046 height=356 
src="Practicas%20de%20Estructura%20de%20Sistemas%20(F10)%20ITIG_archivos/Image5.gif" 
width=584 border=0></SPAN></P>
<UL type=disc>
  <LI class=MsoNormal 
  style="mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-list: l1 level1 lfo13; tab-stops: list 36.0pt"><SPAN 
  style="mso-bookmark: p1descrip"><B>Mensajes </B><I>(Message</I>s)</SPAN> 
</LI></UL>
<P style="MARGIN-LEFT: 72pt"><SPAN style="mso-bookmark: p1descrip">&nbsp;En este 
panel se observan los diversos mensajes que comunica el simulador, que nos 
tendrán informados del resultado y evolución de las acciones que éste lleva a 
cabo.</SPAN></P>
<P style="MARGIN-LEFT: 72pt; TEXT-ALIGN: center" align=center><SPAN 
style="mso-bookmark: p1descrip"><IMG id=_x0000_i1047 height=317 
src="Practicas%20de%20Estructura%20de%20Sistemas%20(F10)%20ITIG_archivos/Image6.gif" 
width=587 border=0></SPAN></P>
<P><SPAN 
style="mso-bookmark: p1descrip"><![if !supportEmptyParas]><![endif]>&nbsp;<o:p></o:p></SPAN></P>
<P><SPAN style="mso-bookmark: p1descrip">Existe una quinta ventana, llamada 
<B>Consola</B>, independiente, a la que se accede con la opción 
<I>Window-&gt;Consol</I>e, y que sirve para realizar la entrada/salida del 
programa simulado. En esta ventana se teclean los datos de entrada, cuando sean 
necesarios, y se lee la información que pueda imprimir nuestro programa. 
</SPAN></P>
<P style="TEXT-ALIGN: center" align=center><SPAN 
style="mso-bookmark: p1descrip"><IMG id=_x0000_i1048 height=208 
src="Practicas%20de%20Estructura%20de%20Sistemas%20(F10)%20ITIG_archivos/Image7.gif" 
width=467 border=0></SPAN></P>
<DIV class=MsoNormal style="TEXT-ALIGN: center" align=center><SPAN 
style="mso-bookmark: p1descrip">
<HR align=center width="100%" SIZE=3>
</SPAN></DIV>
<P><SPAN style="mso-bookmark: p1descrip"><B><SPAN 
style="FONT-SIZE: 13.5pt">Carga y ejecución de 
programas<o:p></o:p></SPAN></B></SPAN></P>
<P><SPAN style="mso-bookmark: p1descrip">Los ficheros de entrada a PCSpim son de 
tipo texto ASCII, que incluyen las instrucciones ensamblador del programa que se 
desea simular. </SPAN></P>
<P><SPAN style="mso-bookmark: p1descrip">Para cargar un programa se selecciona 
<I>File-&gt;Open </I>(o el botón <I>Open </I>de la barra de herramientas, con el 
icono de la carpeta abriéndose) con lo que aparecerá un cuadro de diálogo donde 
se puede seleccionar el fichero que se quiere abrir. </SPAN></P>
<P><SPAN style="mso-bookmark: p1descrip">Para ejecutar el programa, 
<I>Simulator-&gt;Go </I>(o el botón <I>Go </I>de la barra de herramientas, con 
el icono de un programa con una flecha que indica ejecución), hará que PCSpim 
comience a simularlo. Previamente pedirá que se le indique la dirección de 
comienzo del programa (en hexadecimal). En nuestro caso este valor será 
normalmente 0x00400000 (donde comienza nuestro segmento de texto). Si se desea 
detener la ejecución del programa, <I>Simulator-&gt;Break </I>(Ctrl-C). Para 
continuar con la ejecución, <I>Simulator-&gt;Continu</I>e.</SPAN></P>
<P><SPAN style="mso-bookmark: p1descrip">Si el programa incluye operaciones de 
lectura o escritura desde el terminal, PCSpim despliega una ventana 
independiente llamada <I>Consol</I>e, a través de la cual se realiza la 
entrada-salida (se simula un terminal de la máquina MIPS).</SPAN></P>
<DIV class=MsoNormal style="TEXT-ALIGN: center" align=center><SPAN 
style="mso-bookmark: p1descrip">
<HR align=center width="100%" SIZE=3>
</SPAN></DIV>
<P><SPAN style="mso-bookmark: p1descrip"><B><SPAN 
style="FONT-SIZE: 13.5pt">Depuración de 
programas<o:p></o:p></SPAN></B></SPAN></P>
<P><SPAN style="mso-bookmark: p1descrip">Si un programa no hace lo que se 
esperaba, hay algunas características del simulador que ayudarán a depurar el 
programa. Con <I>Simulator-&gt;Single Step </I>(o bien la tecla F10) es posible 
ejecutar las instrucciones del programa una a una <B>(paso a paso</B>). Esto 
permite verificar el contenido de los registros, la pila, los datos, etc., tras 
la ejecución de cada instrucción. Empleando <I>Simulator-&gt;Multiple Ste</I>p 
se consigue ejecutar el programa un número determinado de 
instrucciones.</SPAN></P>
<P><SPAN style="mso-bookmark: p1descrip">PCSpim también permite ejecutar todas 
las instrucciones de un programa hasta llegar a un determinado punto, denominado 
<B>breakpoint </B>(punto de ruptura), a partir del cual se puede recuperar el 
control del programa y, por ejemplo, continuar paso a paso. Para ello, se 
selecciona <I>Simulator-&gt;Breakpoints </I>(o el botón <I>Breakpoints </I>de la 
barra de herramientas, con el icono de una mano indicando detención). Una vez 
seleccionada esa opción, PCSpim muestra una ventana en la que pide la(s) 
dirección(es) en la(s) que se quiere que el programa se detenga, para recuperar 
el control sobre el mismo. Se debe mirar cuál es la dirección en que interesa 
parar el programa, en la ventana del segmento de texto, e introducirla (en 
hexadecimal) en la ventana, pulsando a continuación la tecla ‘Add’, para añadir 
dicho breakpoint. Se pueden introducir tantos puntos de ruptura como se 
desee.</SPAN></P>
<P><SPAN style="mso-bookmark: p1descrip">Una vez encontrado el error y 
corregido, se vuelve a cargar el programa con 
<I>Simulator-&gt;Reload&lt;nombre_fichero</I>&gt;. Con <I>Simulator-&gt;Clear 
Registers </I>se<I> </I>pone el contenido de los registros a cero (excepto $sp), 
mientras que <I>Simulator-&gt;Set Value </I>permite cambiar el valor actual de 
un registro o de una posición de memoria por un valor arbitrario. </SPAN></P>
<P><SPAN style="mso-bookmark: p1descrip">Otras opciones útiles disponibles en el 
menú principal son las contenidas en el menú de ventana <I>(Windo</I>w). Con 
ellas se pueden mostrar y ocultar las barras de herramientas y de estado, así 
como las distintas ventanas del simulador, organizar visualmente las mismas y 
limpiar la consola de entrada/salida.</SPAN></P>
<P><SPAN style="mso-bookmark: p1descrip">PCSpim también proporciona ayuda en 
línea (Opción <I>Help-&gt;Help Topic</I>s), que muestra un documento con ayuda 
sobre el programa, y el icono de la barra de herramientas con una flecha y una 
interrogación, que sirve para pedir ayuda sobre una opción concreta de los 
menús. </SPAN></P>
<DIV class=MsoNormal style="TEXT-ALIGN: center" align=center><SPAN 
style="mso-bookmark: p1descrip">
<HR align=center width="100%" SIZE=3>
</SPAN></DIV>
<P><SPAN style="mso-bookmark: p1descrip"><B><SPAN 
style="FONT-SIZE: 13.5pt">Opciones del 
simulador<o:p></o:p></SPAN></B></SPAN></P>
<P><SPAN style="mso-bookmark: p1descrip">Al elegir la opción 
<I>Simulator-&gt;Setting</I>s se muestran las diversas opciones que ofrece el 
simulador. PCSpim utiliza estas opciones para determinar cómo cargar y ejecutar 
los programas. Una vez escogida esta opción aparece la siguiente 
ventana</SPAN></P>
<P style="TEXT-ALIGN: center" align=center><SPAN 
style="mso-bookmark: p1descrip"><IMG id=_x0000_i1052 height=308 
src="Practicas%20de%20Estructura%20de%20Sistemas%20(F10)%20ITIG_archivos/Image2.gif" 
width=385 border=0></SPAN></P>
<P><SPAN style="mso-bookmark: p1descrip">El significado de las opciones es el 
siguiente:</SPAN></P>
<P 
style="MARGIN-LEFT: 36pt; TEXT-INDENT: -18pt; mso-list: l4 level1 lfo15; tab-stops: list 36.0pt"><SPAN 
style="mso-bookmark: p1descrip"><![if !supportLists]>1.<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN><![endif]><I><SPAN lang=EN-GB style="mso-ansi-language: EN-GB">Save 
window position</SPAN></I></SPAN><SPAN style="mso-bookmark: p1descrip"><SPAN 
lang=EN-GB style="mso-ansi-language: EN-GB">s. </SPAN>PCSpim guarda la posición 
de las ventanas al salir, y la recupera al ejecutar de nuevo PCSpim.</SPAN></P>
<P 
style="MARGIN-LEFT: 36pt; TEXT-INDENT: -18pt; mso-list: l4 level1 lfo15; tab-stops: list 36.0pt"><SPAN 
style="mso-bookmark: p1descrip"><![if !supportLists]>2.<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN><![endif]><I><SPAN lang=EN-GB style="mso-ansi-language: EN-GB">General 
registers/Floating point registers in hexadecima</SPAN></I></SPAN><SPAN 
style="mso-bookmark: p1descrip"><SPAN lang=EN-GB 
style="mso-ansi-language: EN-GB">l. </SPAN>Fija el formato de los registros en 
hexadecimal. En caso de no estar seleccionada esta opción, se muestra el 
contenido en decimal (con signo; es decir, interpretado en complemento a 
2).</SPAN></P>
<P 
style="MARGIN-LEFT: 36pt; TEXT-INDENT: -18pt; mso-list: l4 level1 lfo15; tab-stops: list 36.0pt"><SPAN 
style="mso-bookmark: p1descrip"><![if !supportLists]>3.<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN><![endif]><I>Bare machin</I>e. Simula el ensamblador sin 
pseudoinstrucciones o modos de direccionamiento suministrados por el simulador. 
</SPAN></P>
<P 
style="MARGIN-LEFT: 36pt; TEXT-INDENT: -18pt; mso-list: l4 level1 lfo15; tab-stops: list 36.0pt"><SPAN 
style="mso-bookmark: p1descrip"><![if !supportLists]>4.<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN><![endif]><I><SPAN lang=EN-GB style="mso-ansi-language: EN-GB">Allow 
pseudo instruction</SPAN></I></SPAN><SPAN style="mso-bookmark: p1descrip"><SPAN 
lang=EN-GB style="mso-ansi-language: EN-GB">s. </SPAN>Determina si se admiten 
las pseudoinstrucciones.</SPAN></P>
<P 
style="MARGIN-LEFT: 36pt; TEXT-INDENT: -18pt; mso-list: l4 level1 lfo15; tab-stops: list 36.0pt"><SPAN 
style="mso-bookmark: p1descrip"><![if !supportLists]>5.<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN><![endif]><I><SPAN lang=EN-GB style="mso-ansi-language: EN-GB">Load trap 
fil</SPAN></I></SPAN><SPAN style="mso-bookmark: p1descrip"><SPAN lang=EN-GB 
style="mso-ansi-language: EN-GB">e. </SPAN>Indica si se debe cargar el manejador 
de interrupciones (fichero ‘trap.handler’). En tal caso, cuando se produce una 
excepción, PCSpim salta a la dirección 0x80000080, que contiene el código 
necesario para tratar la excepción.</SPAN></P>
<P 
style="MARGIN-LEFT: 36pt; TEXT-INDENT: -18pt; mso-list: l4 level1 lfo15; tab-stops: list 36.0pt"><SPAN 
style="mso-bookmark: p1descrip"><![if !supportLists]>6.<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN><![endif]><I>Mapped I/</I>O. Si se selecciona esta opción, se activa la 
entrada-salida mapeada en Memoria. Los programas que utilizan llamadas al 
sistema <I>(syscall</I>), para leer o escribir en el terminal, deben desactivar 
esta opción. Aquellos otros programas que vayan a hacer entrada-salida mediante 
mapeo en memoria deben tenerla activada.</SPAN></P>
<P 
style="MARGIN-LEFT: 36pt; TEXT-INDENT: -18pt; mso-list: l4 level1 lfo15; tab-stops: list 36.0pt"><SPAN 
style="mso-bookmark: p1descrip"><![if !supportLists]>7.<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN><![endif]><I>Quie</I>t. Si se activa, PCSpim no imprime mensaje alguno 
cuando se producen las excepciones. De otra manera, se muestra un mensaje cuando 
ocurre una excepción.</SPAN></P>
<DIV style="TEXT-ALIGN: center" align=center><SPAN 
style="mso-bookmark: p1descrip">
<HR align=center width="100%" SIZE=3>
</SPAN></DIV><SPAN style="mso-bookmark: p1descrip"></SPAN>
<P><A name=p1sintaxis><B><SPAN style="FONT-SIZE: 13.5pt">Sintaxis del Lenguaje 
ensamblador del MIPS R2000</SPAN></B></A></P>
<P>La sintaxis del lenguaje ensamblador es algo que se descubrirá poco a poco, 
pero es interesante introducir algunos conceptos básicos:</P>
<P><B><I>Comentarios</I></B></P>
<P>Estos son muy importantes en los lenguajes de bajo nivel ya que ayudan a 
seguir el desarrollo del programa y, por tanto, se usan con profusión. Comienzan 
con un carácter de almohadilla “#” y desde este carácter hasta el final de la 
línea es ignorado por el ensamblador.</P>
<P><B><I>Identificadores</I></B></P>
<P>Son secuencias de caracteres alfanuméricos, guiones bajos (_) y puntos (.), 
que no comienzan con un número. Los códigos de operación son palabras reservadas 
que <B>no</B> pueden ser utilizadas como identificadores.</P>
<P><B><I>Etiquetas</I></B></P>
<P>Son identificadores que se sitúan al principio de una línea y seguidos de dos 
puntos. Sirven para hacer referencia a la posición o dirección de memoria del 
elemento definido en ésta. A lo largo del programa se puede hacer referencia a 
ellas en los modos de direccionamiento de las instrucciones.</P>
<P><B><I>Pseudoinstrucciones</I></B></P>
<P>No son instrucciones que tengan su traducción directa al lenguaje máquina que 
entiende el procesador, pero el ensamblador las interpreta y las convierte en 
una o más instrucciones máquina reales. Permiten una programación más clara y 
comprensible. A lo largo del desarrollo de las prácticas se irán introduciendo 
diferentes pseudoinstrucciones que permite utilizar este ensamblador. </P>
<P><B><I>Directivas</I></B></P>
<P>Tampoco son instrucciones que tengan su traducción directa al lenguaje 
máquina que entiende el procesador, pero el ensamblador las interpreta y le 
informan a éste de cómo tiene que traducir el programa. Son identificadores 
reservados, que el ensamblador reconoce y que van precedidos por un punto. A lo 
largo del desarrollo de las prácticas se irán introduciendo las distintas 
directivas que permite utilizar este ensamblador. </P>
<P>Por otro lado, los números se escriben, por defecto, en base 10. Si van 
precedidos de 0x, se interpretan en hexadecimal. Las cadenas de caracteres se 
encierran entre comillas dobles (“). Los caracteres especiales en las cadenas 
siguen la convención del lenguaje de programación C:</P>
<P 
style="MARGIN-LEFT: 36pt; TEXT-INDENT: -18pt; mso-list: l7 level1 lfo3; tab-stops: list 36.0pt"><![if !supportLists]><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Symbol; mso-bidi-font-size: 12.0pt">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Salto de línea: <B>\n</B></P>
<P 
style="MARGIN-LEFT: 36pt; TEXT-INDENT: -18pt; mso-list: l7 level1 lfo3; tab-stops: list 36.0pt"><![if !supportLists]><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Symbol; mso-bidi-font-size: 12.0pt">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Tabulador: <B>\t</B></P>
<P 
style="MARGIN-LEFT: 36pt; TEXT-INDENT: -18pt; mso-list: l7 level1 lfo3; tab-stops: list 36.0pt"><![if !supportLists]><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Symbol; mso-bidi-font-size: 12.0pt">·<SPAN 
style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><![endif]>Comilla: <B>\”</B></P>
<P>A la hora de generar un fichero con un programa en ensamblador (extensión 
.s), hay que tener en cuenta que algunas versiones del SPIM tienen un 
“<B>bug</B>”, que se evita haciendo que los códigos en ensamblador almacenados 
en estos ficheros terminen siempre con una línea en blanco (vacía).</P>
<DIV class=MsoNormal style="TEXT-ALIGN: center" align=center>
<HR align=center width="100%" SIZE=3>
</DIV>
<P><A name=p1problema><B><SPAN 
style="FONT-SIZE: 13.5pt; COLOR: #000088">Problema propuesto</SPAN></B></A> </P>
<P>Dado el siguiente ejemplo de programa ensamblador:</P><PRE><SPAN style="COLOR: #880000"><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></SPAN></PRE><PRE><SPAN style="COLOR: #880000"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>.data<o:p></o:p></SPAN></PRE><PRE><SPAN style="COLOR: #880000"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>dato:<SPAN style="mso-spacerun: yes">&nbsp;&nbsp; </SPAN>.byte 3<SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN># inicializo una posición de memoria a 3<o:p></o:p></SPAN></PRE><PRE><SPAN style="COLOR: #880000"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>.text<o:p></o:p></SPAN></PRE><PRE><SPAN style="COLOR: #880000"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>.globl<SPAN style="mso-spacerun: yes">&nbsp; </SPAN>main<SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN># debe ser global<o:p></o:p></SPAN></PRE><PRE><SPAN style="COLOR: #880000"><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN lang=EN-GB style="COLOR: #880000; mso-ansi-language: EN-GB">main:<SPAN style="mso-spacerun: yes">&nbsp; </SPAN>lw $t0, dato($0)</SPAN><SPAN lang=EN-GB style="mso-ansi-language: EN-GB"><o:p></o:p></SPAN></PRE>
<P>Indica las etiquetas, directivas y comentarios que aparecen en el 
mismo.<o:p></o:p></P>
<DIV class=MsoNormal style="TEXT-ALIGN: center" align=center>
<HR align=center width="100%" color=gray noShade SIZE=3>
</DIV><BR><BR>
<TABLE style="WIDTH: 100%; mso-cellspacing: 1.5pt" cellSpacing=3 cellPadding=0 
width="100%" border=0>
  <TBODY>
  <TR>
    <TD 
    style="PADDING-RIGHT: 0.75pt; PADDING-LEFT: 0.75pt; PADDING-BOTTOM: 0.75pt; PADDING-TOP: 0.75pt">
      <P class=MsoNormal>&lt;--<A 
      href="http://www2.dis.ulpgc.es/~ii-fc/web-practicas/parte0.html">Presentación</A> 
      </P></TD>
    <TD 
    style="PADDING-RIGHT: 0.75pt; PADDING-LEFT: 0.75pt; PADDING-BOTTOM: 0.75pt; PADDING-TOP: 0.75pt">
      <P class=MsoNormal style="TEXT-ALIGN: right" align=right><A 
      href="http://www2.dis.ulpgc.es/~ii-fc/web-practicas/parte2.html">Los datos 
      en memoria</A>--&gt; </P></TD></TR></TBODY></TABLE>
<DIV class=MsoNormal style="TEXT-ALIGN: center" align=center>
<HR align=center width="100%" color=gray noShade SIZE=3>
</DIV></DIV><BR></BODY></HTML>
